--> ViewShark Add-on - Video Grabber Module <--
--> ViewShark Add-on - Multi Server CDN Module <--
--> ViewShark Add-on - Multimedia Module <--
--> ViewShark Add-on - Live Streaming Module <--
--> ViewShark Add-on - Live Streaming Token Add-on <--

The module files come preloaded/installed with the application.

Please refer to the article "How to set up live streaming". Please refer to the article "How to set up the Affiliate Module".


--> Installing cron scripts <--

Add the following entries to your crontab user, after the convert_queue.php rule.

## transfer check every 3 minutes ##
*/3 * * * * /usr/local/bin/php /path/to/install/f_modules/m_frontend/m_cron/transfer_queue.php 1> /dev/null

## clean chat notifications and usernames
0 9 */2 * * /usr/local/bin/php /path/to/install/f_modules/m_frontend/m_cron/clean_chat.php 1> /dev/null

## clean vod temps
15 0 * * * /usr/local/bin/php /path/to/install/f_modules/m_frontend/m_cron/clean_temps.php 1> /dev/null




/***** CHAT SERVERS *****/

## sync subs and follows
10 0 * * * /usr/local/bin/php /path/to/install/f_modules/m_frontend/m_cron/chat-server/sync_subs.php 1> /dev/null

## clean chat notifications and usernames
0 9 */2 * * /usr/local/bin/php /path/to/install/f_modules/m_frontend/m_cron/chat-server/clean_chat.php 1> /dev/null


Additional required edits:

Edit /path/to/install/f_modules/m_frontend/m_cron/cfg.php and set the database credentials, main url and cron salt key (must match key from Site Components > Live Streaming Module > Cron Scripts Salt Key).





/***** VOD SERVERS *****/

MAILTO=""

## generate any missing previews for recordings/vods every 3 minutes
*/3 * * * * /usr/local/bin/php /path/to/install/f_modules/m_frontend/m_cron/vod-server/recording_previews.php 1> /dev/null

## generate any missing previews for recordings/vods every 5 minutes
*/5 * * * * /usr/local/bin/php /path/to/install/f_modules/m_frontend/m_cron/vod-server/recording_fix.php 1> /dev/null

## clear/remove deleted stray or deleted vods every 12 hours
0 */12 * * * /usr/local/bin/php /path/to/install/f_modules/m_frontend/m_cron/vod-server/clear_vods.php 1> /dev/null

## sync disk usage every 10 minutes
*/10 * * * * /usr/local/bin/php /path/to/install/f_modules/m_frontend/m_cron/sync_df.php 1> /dev/null

## delete left-over vods every 3 hours
0 */3 * * * /usr/local/bin/php /path/to/install/f_modules/m_frontend/m_cron/vod-server/sync_vods.php 1> /dev/null

## delete any flv vod recordings older than 2 days
20 0 * * * find /mnt/rec/ -type f -mtime +2 -name '*.flv' -execdir rm -- '{}' \;

## OPTIONAL: delete mp4 vods after N days (90 default)
## 25 0 * * * find /mnt/rec/ -type f -mtime +90 -name '*.mp4' -execdir rm -- '{}' \;


Additional required edits:

Edit /path/to/install/f_modules/m_frontend/m_cron/cfg.php and set the path to recordings, main url and cron salt key (must match key from Site Components > Live Streaming Module > Cron Scripts Salt Key).
