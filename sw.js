self.addEventListener('install', (event) => {event.waitUntil(caches.open('vs-store').then((cache) => cache.add(['/index.js'])))});self.addEventListener('fetch', (event) => {if (event.request.url.indexOf('upload') !== -1 || event.request.url.indexOf('uploader') !== -1 || event.request.url.includes('index.m3u8')) {return;}event.respondWith(async function(){const cachedResponse = await caches.match(event.request);if (cachedResponse) return cachedResponse;try {return fetch(event.request);} catch(error){}}());});
